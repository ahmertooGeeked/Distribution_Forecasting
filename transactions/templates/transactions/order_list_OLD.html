<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>All Orders</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; margin: 0; overflow-x: hidden; }
        .sidebar { height: 100vh; width: 250px; background-color: #0f172a; color: #fff; position: fixed; top: 0; left: 0; padding-top: 20px; display: flex; flex-direction: column; z-index: 1000; }
        .sidebar-brand { font-size: 1.25rem; font-weight: 700; padding: 0 20px 20px 20px; border-bottom: 1px solid rgba(255,255,255,0.1); margin-bottom: 10px; color: white; text-decoration: none; }
        .nav-section { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 1px; color: #9ca3af; padding: 15px 20px 5px 20px; font-weight: 600; }
        .nav-link { color: #cbd5e1; padding: 10px 20px; font-size: 0.95rem; display: flex; align-items: center; transition: all 0.3s; margin: 2px 10px; border-radius: 6px; text-decoration: none; }
        .nav-link:hover { color: #fff; background-color: rgba(255,255,255,0.05); }
        .nav-link i { margin-right: 12px; width: 20px; text-align: center; }
        .nav-link.active { background-color: #fd7e14 !important; color: #fff !important; font-weight: 600; box-shadow: 0 4px 6px rgba(253, 126, 20, 0.3); }
        .main-content { margin-left: 250px; padding: 30px; min-height: 100vh; }
    </style>
</head>
<body>

    <nav class="sidebar">
        <a href="{% url 'dashboard' %}" class="sidebar-brand"><i class="fa-solid fa-truck-fast me-2"></i> Distributor</a>
        <div class="nav-section">Analytics</div>
        <a href="{% url 'dashboard' %}" class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}"><i class="fa-solid fa-chart-line"></i> Dashboard</a>
        <div class="nav-section">Inventory</div>
        <a href="{% url 'product_list' %}" class="nav-link {% if request.resolver_match.url_name == 'product_list' %}active{% endif %}"><i class="fa-solid fa-box"></i> Products</a>
        <a href="{% url 'add_stock' %}" class="nav-link {% if request.resolver_match.url_name == 'add_stock' %}active{% endif %}"><i class="fa-solid fa-square-plus"></i> Add Stock</a>
        <a href="{% url 'category_list' %}" class="nav-link {% if request.resolver_match.url_name == 'category_list' %}active{% endif %}"><i class="fa-solid fa-tags"></i> Categories</a>
        <a href="{% url 'add_product' %}" class="nav-link {% if request.resolver_match.url_name == 'add_product' %}active{% endif %}"><i class="fa-solid fa-plus"></i> Add Product</a>
        <div class="nav-section">Sales & Partners</div>
        <a href="{% url 'order_list' %}" class="nav-link {% if request.resolver_match.url_name == 'order_list' %}active{% endif %}"><i class="fa-solid fa-list"></i> Orders</a>
        <a href="{% url 'new_sale' %}" class="nav-link {% if request.resolver_match.url_name == 'new_sale' %}active{% endif %}"><i class="fa-solid fa-cart-shopping"></i> New Sale</a>
    </nav>

    <div class="main-content">
        <div class="container bg-white p-4 rounded shadow">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2 class="text-dark"><i class="fa-solid fa-list me-2"></i> All Sales Orders</h2>
                <a href="{% url 'new_sale' %}" class="btn btn-success"><i class="fa-solid fa-plus"></i> Create New Sale</a>
            </div>

            <table class="table table-striped table-hover align-middle">
                <thead class="table-dark">
                    <tr><th>Order ID</th><th>Customer</th><th>Date</th><th>Total Amount</th><th>Status</th></tr>
                </thead>
                <tbody>
                    {% for order in orders %}
                    <tr>
                        <td class="fw-bold">#{{ order.id }}</td>
                        <td>{{ order.customer.name }}</td>
                        <td>{{ order.date|date:"M d, Y H:i" }}</td>
                        <td>${{ order.total_amount }}</td>
                        <td>
                            {% if order.status == 'COMPLETED' %}<span class="badge bg-success">Completed</span>
                            {% elif order.status == 'PENDING' %}<span class="badge bg-warning text-dark">Pending</span>
                            {% else %}<span class="badge bg-danger">Cancelled</span>{% endif %}
                        </td>
                    </tr>
                    {% empty %}
                    <tr><td colspan="5" class="text-center text-muted p-4">No orders found yet.</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

</body>
</html>
